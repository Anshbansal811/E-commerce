{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\E-commerce\\\\pages\\\\login.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { useState } from 'react';\nimport baseUrl from '../helpers/baseUrl';\nimport cookie from 'js-cookie';\nimport { useRouter } from 'next/router';\n\nconst Login = () => {\n  const {\n    0: email,\n    1: setEmail\n  } = useState(\"\");\n  const {\n    0: password,\n    1: setPassword\n  } = useState(\"\");\n  const router = useRouter();\n\n  const userLogin = async e => {\n    e.preventDefault();\n    const res = await fetch(`${baseUrl}/api/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    const res2 = await res.json();\n\n    if (res2.error) {\n      M.toast({\n        html: res2.error,\n        classes: \"red\"\n      });\n    } else {\n      console.log(res2);\n      cookie.set('token', res2.token);\n      cookie.set('user', res2.user);\n      router.push('/account');\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"container card authcard center-align\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, \"LOGIN\"), __jsx(\"form\", {\n    onSubmit: e => userLogin(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, __jsx(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 12\n    }\n  }), __jsx(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), __jsx(\"button\", {\n    className: \"btn waves-effect waves-light #1565c0 blue darken-3\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }, \"login\", __jsx(\"i\", {\n    className: \"material-icons right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, \"forward\")), __jsx(Link, {\n    href: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 34\n    }\n  }, __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 37\n    }\n  }, \"Dont have a account ?\")))));\n};\n\nexport default Login;","map":{"version":3,"sources":["D:/Web/E-commerce/pages/login.js"],"names":["Link","useState","baseUrl","cookie","useRouter","Login","email","setEmail","password","setPassword","router","userLogin","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","res2","json","error","M","toast","html","classes","console","log","set","token","user","push","target","value"],"mappings":"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","sourcesContent":["import Link from 'next/link'\r\nimport {useState} from 'react'\r\nimport baseUrl from '../helpers/baseUrl'\r\nimport cookie from 'js-cookie'\r\nimport {useRouter} from 'next/router'\r\nconst Login = ()=>{\r\n  const [email,setEmail] = useState(\"\")\r\n  const [password,setPassword] = useState(\"\")\r\n   const router  = useRouter()\r\n  const userLogin = async (e)=>{\r\n    e.preventDefault()\r\n    const res =  await fetch(`${baseUrl}/api/login`,{\r\n      method:\"POST\",\r\n      headers:{\r\n        \"Content-Type\":\"application/json\"\r\n      },\r\n      body:JSON.stringify({\r\n        email,\r\n        password\r\n      })\r\n    })\r\n\r\n    const res2 = await res.json()\r\n    if(res2.error){\r\n      M.toast({html: res2.error,classes:\"red\"})\r\n    }else{\r\n       console.log(res2)\r\n       cookie.set('token',res2.token)\r\n       cookie.set('user',res2.user)\r\n       router.push('/account')\r\n    }\r\n\r\n  }\r\n    return(\r\n      <div className=\"container card authcard center-align\">\r\n        <h3>LOGIN</h3>\r\n        <form onSubmit={(e)=>userLogin(e)}>\r\n           <input type=\"email\" placeholder=\"Email\"\r\n            value={email}\r\n            onChange={(e)=>setEmail(e.target.value)}\r\n            />\r\n            <input type=\"password\" placeholder=\"Password\"\r\n            value={password}\r\n            onChange={(e)=>setPassword(e.target.value)}\r\n            />\r\n              <button className=\"btn waves-effect waves-light #1565c0 blue darken-3\" type=\"submit\">login\r\n                <i className=\"material-icons right\">forward</i>\r\n            </button>\r\n            <Link href=\"/signup\"><a><h5>Dont have a account ?</h5></a></Link>\r\n        </form>\r\n       \r\n      </div>\r\n    )\r\n  }\r\n  \r\n  export default Login"]},"metadata":{},"sourceType":"module"}